"use strict";function t(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function e(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};var r=Object.keys(o);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))}r.forEach(function(n){t(e,n,o[n])})}return e}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);if(e){o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}n.push.apply(n,o)}return n}function o(t,e){e=e!=null?e:{};if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}else{n(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var r={container:"display-chat",customStyle:{width:"375px",height:"580px",zIndex:"9999",right:"1rem",bottom:"16px",borderRadius:"1rem"},credentials:{bizId:"5f9b2b9b9c6d2a0017a1e2a5",userId:"6d2a0017a1e2a65f9b2b9b9c",accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",refreshToken:"UzI1NiIsInR5cCI6IkpXVCJ9eyJhbGciOiJI"}};function i(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r;return o(e({},r,t),{customStyle:e({},r.customStyle,t.customStyle)})}function c(t){var e=t.customStyle;var n=e.width,o=e.height,r=e.zIndex,i=e.right,c=e.bottom,s=e.borderRadius;var a=document.createElement("iframe");a.src="http://localhost:3000";a.style.border="0px";a.style.background="white";a.style.position="fixed";a.style.boxShadow="0 4px 12px 0 rgba(0, 0, 0, .15)";a.style.overflow="hidden";a.style.display="none";a.style.width=n;a.style.height=o;a.style.zIndex=r;a.style.right=i;a.style.bottom=c;a.style.borderRadius=s;return a}function s(){var t=document.createElement("div");t.id="pito-chat";t.style.position="relative";t.style.minWidth="100%";t.style.minHeight="100%";return t}function a(){var t=document.createElement("style");t.innerHTML="\n    @keyframes bounce_in {\n      0% {\n        opacity: 0;\n        transform: scale(0, 0);\n        transform-origin: bottom right;\n      }\n      50% {\n        transform: scale(1.03, 1.03);\n        transform-origin: bottom right;\n      }\n      100% {\n        opacity: 1;\n        transform: scale(1, 1);\n        transform-origin: bottom right;\n      }\n    }\n\n    @keyframes bounce_out {\n      0% {\n        opacity: 1;\n        transform: scale(1, 1);\n        transform-origin: bottom right;\n      }\n      100% {\n        opacity: 0;\n        transform: scale(0, 0);\n        transform-origin: bottom right;\n        display: none;\n      }\n    }\n\n    .chat_bounce_in {\n      animation-duration: 300ms;\n      animation-name: bounce_in;\n      transition-timing-function: ease-in;\n    }\n\n\n    .chat_bounce_out {\n      animation-duration: 300ms;\n      animation-name: bounce_out;\n      transition-timing-function: ease-in;\n    }\n";return t}function l(t,e,n){switch(t.data){case"closeChat":{e.className="chat_bounce_out";setTimeout(function(){e.style.display="none";e.style.width=n.customStyle.width;e.style.height=n.customStyle.height;e.style.right=n.customStyle.right;e.style.bottom=n.customStyle.bottom;e.style.borderRadius=n.customStyle.borderRadius},200);break}case"openConversation":{e.style.width="720px";break}case"expandFullScreen":{var o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e.style.width="".concat(o,"px");e.style.height="".concat(r,"px");e.style.bottom="0px";e.style.right="0px";e.style.borderRadius="0px";break}case"collapseFullScreen":{e.style.width="720px";e.style.height=n.customStyle.height;e.style.right=n.customStyle.right;e.style.bottom=n.customStyle.bottom;e.style.borderRadius=n.customStyle.borderRadius;break}}}function u(t){t=i(t);var e=s();var n=a();var o=c(t);o.onload=function(){return o.contentWindow.postMessage(t.credentials,"*")};document.head.appendChild(n);e.appendChild(o);e.addEventListener("click",function(){o.className="chat_bounce_in";o.style.display="block"});document.getElementById(t.container).appendChild(e);window.addEventListener("message",function(e){l(e,o,t)})}window.initChat=u;
